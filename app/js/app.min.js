document.addEventListener("DOMContentLoaded", () => {

    const videoBackgrounds = new VideoBackgrounds('[data-vbg]');

    gsap.registerPlugin(ScrollTrigger);

    if (document.getElementById('video1')) {
        let video1 = gsap.timeline();
        video1.to('.home-video1__footer', {
            visibility: 'visible',
            duration: 0.1,
        });
        video1.from('.home-video1__logo .d-block', {
            opacity: 0,
            x: -130,
            duration: 0.6,
            ease: "power3.InOut",
        });
        video1.from('.home-video1__footer__center__line', {
            width: 0,
            duration: 0.3,
            ease: "power3.InOut",
        });
        video1.from('.home-video1__footer__right', {
            opacity: 0,
            x: 50,
            duration: 0.6,
            ease: "power3.InOut",
        });

        ScrollTrigger.create({
            animation: gsap.fromTo('#video1',
                {opacity: 1},
                {opacity: 0}),
            trigger: '#video1',
            start: 'top top',
            end: 'bottom',
            scrub: true,

        });

    }

    Array.from(document.querySelectorAll('.animate-right')).forEach((el) => {
        gsap.from(el, {
            scrollTrigger: {
                trigger: el,
                start: "20% 80%",
            },
            x: 50,
            opacity: 0,
            duration: 0.6,
            ease: "power3.InOut",
            stagger: .2,

        });
    });

    Array.from(document.querySelectorAll('.animate-bottom')).forEach((el) => {
        gsap.from(el, {
            scrollTrigger: {
                trigger: el,
                start: "20% 80%",
            },
            y: 50,
            opacity: 0,
            duration: 0.6,
            ease: "power3.InOut",
            stagger: .2,

        });
    });

    if (document.getElementById('homeSlider')) {
        new Swiper('#homeSlider', {
            lazyPreloadPrevNext: 1,
            spaceBetween: 110,
            speed: 700,
            /*loop: true,*/
            navigation: {
                nextEl: '#homeSliderNext',
                prevEl: '#homeSliderPrev',
            },
            pagination: {
                el: '#homeSliderCount',
                type: "fraction",
            },
        });
    }
    if (document.getElementById('productSlider')) {
        new Swiper('#productSlider', {
            lazyPreloadPrevNext: 1,
            spaceBetween: 26,
            slidesPerView: 3,
            speed: 700,
            /*loop: true,*/
            navigation: {
                nextEl: '#productSliderNext',
                prevEl: '#productSliderPrev',
            },
           /* pagination: {
                el: '#homeSliderCount',
                type: "fraction",
            },*/
            breakpoints: {

                300: {
                    slidesPerView: 'auto',
                    spaceBetween: 20,
                    scrollbar: {
                        el: '#productscrollbar',
                        draggable: true
                    },
                },
                769: {
                    slidesPerView: 2,
                    spaceBetween: 30
                },

                991: {
                    slidesPerView: 2,
                    spaceBetween: 20
                },

                1199: {
                    slidesPerView: 3,
                    spaceBetween: 26
                }
            }
        });
    }

    var header = document.querySelector('#header')
    document.addEventListener('scroll', function() {
        if (window.pageYOffset >= 450) {
            header.classList.add('fixed_menu')
        }
        else {
            header.classList.remove('fixed_menu')
        }
    });

    const collapseMenu = document.getElementById('collapseMenu');
    collapseMenu.addEventListener('hide.bs.collapse', event => {
        document.body.classList.remove('mob_menu_open');
    });
    collapseMenu.addEventListener('show.bs.collapse', event => {
        document.body.classList.add('mob_menu_open');
    });
});
